# 물류 유통량 예측 경진대회
#### Dacon 물류 유통량 예측 경진대회
<https://dacon.io/competitions/official/235867/overview/description>
</br>
</br>

## ~ 21. 12. 09

* #### 격자공간고유번호, 물품 카테고리를 사용하여 운송장 건 수를 예측

* 송하인과 수하인의 격자공간고유번호가 있긴 하지만 정보가 아주 자세하게 기록되어있지는 않음. ex) 8번째 자리 아래는 모두 0으로 표시 -> 데이터 수정됨

* 이를 제거하였더니 성능이 감소하였으므로 출발, 도착 위치에 따라 송하량이 어느정도 상관성을 가지고 있다고 판단하여 제거하지 않고 사용

* 카테고리는 대, 중 두가지 컬럼으로 나타나고 각각 6개, 20개의 항목으로 분류됨

* baseline은 one-hot encoding 방식으로 이를 처리하여 사용하며, target encoding을 사용했을 때 오히려 성능이 더 떨어졌음

* 우선 LGBM과 Randomforest를 gridsearch하여 사용

</br>

## 21. 12. 10

* 간단한 dnn을 구축해서 훈련하였는데, 검증 데이터에 대한 정확도가 개선되지 않음
* 상관도 확인 결과 유의미한 수치는 없었음

* 현재 리더보드 상 점수(5.46, 28위) 와 1등(5.27)의 차이가 크지 않은것에 미루어 보았을 때, 유의미한 데이터 전처리보다는 모델링과 앙상블로 점수를 올리고 있는 것으로 예상됨

* Train data의 y값중 최솟값이 3이므로, 추론 결과로 나온 값중 음수 및 2 이하의 값은 동일한 카테고리를 가진 training data의 최빈값으로 대체. 정확도 상승함

* 범주형 변수가 많으므로 catboost 사용 예정

</br>

## 21. 12. 14

* CatboostRegressor + Optuna 사용으로 5.399 달성
* 이후 search space를 넓혔고, k-fold도 사용하였지만 추가적인 점수 개선은 없음

</br>

## 21. 12. 21

* **최종 Score**
  * **Public : 5.39987 (67등, 27.9%)**
  * **Private : 9.34506 (32등, 13.3%)**
* 굉장히 큰 Shake-up이 있었음 (ex. public 76등 -> private 1등, public 1등-> private 116등)

* 외부 데이터를 사용할 수 있었지만 1, 2등은 외부 데이터를 사용하지 않았음
* 상위권 데이터는 격자공간고유번호를 전처리에서 강점을 보였음
* 1위의 풀이에서는 송하인 격자번호는 단순히 라벨 인코딩함에도 불구하고 **수하인 격자번호의 unique 갯수가 데이터 수와 비슷하기 때문에 학습에 영향을 주지 않는다고 판단하고 지운 부분**이 굉장히 인상적이었음. 모델은 간단한 DNN을 사용

* 2위와 3위의 풀이에서는 격자공간고유번호의 자릿수에 따라 의미하는 바가 다르다는것을 확인하여 자릿수를 기준으로 데이터를 나누어 인코딩
* 예측해야 하는 데이터가 모두 정수형 데이터임에도 불구하고 결과값을 정수로 전처리한 풀이가 없었음. 결과값들을 반올림 처리한것이 좋은 접근이었던것같음



* public score에 연연하지 말고, EDA에 집중하는것이 중요하다는 사실을 리마인드함













